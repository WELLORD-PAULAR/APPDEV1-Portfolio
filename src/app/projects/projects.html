<div class="projects-container">
  <div class="projects-header" style="background: linear-gradient(135deg, #e0f2f1 0%, #c8e6c9 100%); min-height: 30vh; display: flex; align-items: center; justify-content: center;">
    <div class="text-center">
      <h1 class="display-4 mb-3" style="color: #1b5e20; font-weight: 700;">
        <i class="bi bi-folder-open-fill" style="font-size: 2.5rem;"></i> My Projects
      </h1>
      <p class="lead" style="color: #2e7d32;">
        A collection of projects throughout my APPDEV1 coursework journey.
      </p>
    </div>
  </div>

  <div class="container py-5">
    <!-- Loop through each category -->
    @for (category of categories; track category.name) {
      <div class="mb-5">
        <h2 class="category-title mb-4" style="color: #1b5e20; border-bottom: 4px solid #81c784; padding-bottom: 1rem; font-weight: 700; font-size: 1.8rem;">
          <i class="bi bi-pin-map-fill" style="color: #66bb6a; margin-right: 0.5rem;"></i>
          {{ category.name }}
        </h2>
        <div class="row g-4">
          @for (project of category.projects; track project.url) {
            <div class="col-md-6 col-lg-4">
              <div class="card h-100 shadow-sm border-0 project-card" style="background: #f1f8e9; overflow: hidden; border-left: 5px solid #81c784;">
                <!-- Project Link Preview -->
                <div class="preview-container" style="height: 200px; background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%); overflow: auto;">
                  <iframe
                    [src]="project.safeUrl"
                    style="width: 100%; height: 100%; border: none; pointer-events: none;"
                    title="Project Preview">
                  </iframe>
                </div>

                <div class="card-body d-flex flex-column">
                  <h5 class="card-title" style="color: #1b5e20; font-weight: 600; font-size: 1.1rem;">
                    {{ project.title }}
                  </h5>
                  <p class="card-text flex-grow-1" style="color: #424242; font-size: 0.95rem; line-height: 1.6;">
                    {{ project.description }}
                  </p>
                  <a
                    [href]="project.url"
                    target="_blank"
                    rel="noopener noreferrer"
                    class="btn btn-sm mt-3 align-self-start"
                    style="background: linear-gradient(135deg, #66bb6a 0%, #43a047 100%); color: white; border: none; font-weight: 500;">
                    <i class="bi bi-box-arrow-up-right"></i> View Project
                  </a>
                </div>
              </div>
            </div>
          }
        </div>
      </div>
    }
  </div>
</div>
